<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>歐洲冬日自駕行 2025 (更新版)</title>
    <!-- Tailwind CSS for Styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Vue.js for Logic -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #FdfcF8; /* 日式米白 */
            color: #4a4a4a;
            -webkit-tap-highlight-color: transparent;
            padding-bottom: 80px; /* Space for bottom nav */
        }
        .card {
            background: #ffffff;
            border-radius: 16px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
            border: 1px solid #f0f0f0;
        }
        .tag-food { background-color: #ffe4e1; color: #d65a5a; }
        .tag-spot { background-color: #e3f2fd; color: #4682b4; }
        .tag-buy { background-color: #fff9c4; color: #fbc02d; }
        .tag-alert { background-color: #fee2e2; color: #991b1b; border-left: 3px solid #dc2626; }
        .tag-tip { background-color: #f5f5f5; color: #757575; border-left: 3px solid #8d6e63; }
        
        .nav-active { color: #8d6e63; }
        .nav-item { transition: all 0.3s ease; }
    </style>
</head>
<body>

<div id="app" class="max-w-md mx-auto relative min-h-screen">

    <!-- Header -->
    <header class="sticky top-0 z-50 bg-[#FdfcF8]/95 backdrop-blur-sm px-6 py-4 border-b border-gray-100 flex justify-between items-center">
        <div>
            <h1 class="text-xl font-bold tracking-widest text-stone-700">WINTER TRIP</h1>
            <p class="text-xs text-stone-500">德、斯、克自駕之旅 (更新版)</p>
        </div>
        <div class="text-stone-400">
            <i class="fa-solid fa-car"></i>
        </div>
    </header>

    <!-- Content Area: Itinerary -->
    <main v-if="currentTab === 'itinerary'" class="px-4 py-4 space-y-6">
        
        <div v-for="(day, index) in itinerary" :key="index" class="space-y-3">
            <!-- Date Header with Weather -->
            <div class="flex items-center justify-between px-2">
                <div>
                    <span class="text-2xl font-bold text-stone-700">{{ day.date }}</span>
                    <span class="text-sm text-stone-500 ml-2">{{ day.weekday }}</span>
                </div>
                <div class="flex items-center space-x-2 text-stone-500 bg-stone-100 px-3 py-1 rounded-full text-xs">
                    <i :class="day.weatherIcon"></i>
                    <span>{{ day.temp }}</span>
                </div>
            </div>

            <!-- Route Summary -->
            <div class="flex items-center text-xs text-stone-400 px-2 space-x-2 mb-2">
                <i class="fa-solid fa-route"></i>
                <span>{{ day.route }}</span>
            </div>

            <!-- Events Cards -->
            <div v-for="(event, eIndex) in day.events" :key="eIndex" class="card p-4 relative overflow-hidden">
                <!-- Type Indicator Line -->
                <div class="absolute left-0 top-0 bottom-0 w-1" 
                     :class="{
                        'bg-blue-400': event.type === 'transport',
                        'bg-red-400': event.type === 'visit',
                        'bg-orange-300': event.type === 'food',
                        'bg-stone-400': event.type === 'hotel',
                        'bg-red-600': event.type === 'alert'
                     }">
                </div>

                <div class="pl-3">
                    <div class="flex justify-between items-start mb-1">
                        <h3 class="font-bold text-stone-700 text-lg leading-tight">{{ event.title }}</h3>
                        <!-- Navigation/Link Button -->
                        <a v-if="event.link" :href="event.link" target="_blank" 
                           class="flex items-center justify-center w-8 h-8 bg-stone-100 rounded-full text-stone-500 hover:bg-blue-50 hover:text-blue-500 transition">
                            <i class="fa-solid" :class="event.type === 'transport' ? 'fa-ticket' : 'fa-location-arrow'"></i>
                        </a>
                    </div>
                    
                    <p class="text-sm text-stone-600 mb-2 whitespace-pre-line">{{ event.desc }}</p>

                    <!-- Restaurant Links List -->
                    <div v-if="event.links && event.links.length > 0" class="mt-2 space-y-1">
                        <a v-for="(link, lIdx) in event.links" :key="lIdx" :href="link.url" target="_blank" class="block text-xs text-blue-500 hover:underline">
                            <i class="fa-solid fa-link mr-1"></i> {{ link.text }}
                        </a>
                    </div>

                    <!-- Tags -->
                    <div v-if="event.tags" class="flex flex-wrap gap-2 mb-2 mt-2">
                        <span v-for="tag in event.tags" class="px-2 py-0.5 rounded text-xs font-medium" 
                              :class="{
                                  'tag-food': tag.type === 'food',
                                  'tag-spot': tag.type === 'spot',
                                  'tag-buy': tag.type === 'buy'
                              }">
                            {{ tag.text }}
                        </span>
                    </div>

                    <!-- Tip/Alert Box -->
                    <div v-if="event.tip" class="p-2 rounded text-xs mt-2 italic" 
                         :class="event.type === 'alert' ? 'tag-alert' : 'tag-tip'">
                        <i class="fa-solid mr-1" :class="event.type === 'alert' ? 'fa-circle-exclamation' : 'fa-lightbulb'"></i> {{ event.tip }}
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Content Area: Accommodation -->
    <main v-if="currentTab === 'hotels'" class="px-4 py-4 space-y-4">
        <h2 class="text-lg font-bold text-stone-700 px-2">住宿總覽</h2>
        
        <div v-for="(hotel, index) in accommodations" :key="index" class="card p-4">
            <div class="flex justify-between items-start">
                <div>
                    <span class="text-xs text-stone-400 block mb-1">{{ hotel.dates }}</span>
                    <h3 class="font-bold text-stone-700 mb-1">{{ hotel.name }}</h3>
                    <p class="text-sm text-stone-500">{{ hotel.price }}</p>
                </div>
                <a :href="hotel.map" target="_blank" class="bg-stone-800 tex
